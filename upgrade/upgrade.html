<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Οδηγίες Αναβάθμισης Πλατφόρμας GUNet eClass 2.0</title>
<style type="text/css">

body {
 font-family: Verdana, Times New Roman;
  font-size: 12px;
  font-weight: normal;
 margin-right: 2em;
 margin-left: 2em;
}

p {
 line-height: 110%;
}
 
ol, ul {
 line-height: 140%;
}


h1, h2, h3, h4, h5 {
 font-weight: bold;
}

h2 { 
  font-size: 19px;
} 

h3 { 
  font-size: 16px;
} 

h4 { 
  font-size: 13px;
} 

pre {
 margin-left: 3em;
 padding: .5em;
}

.note {
 background-color: #E6E6E6;
}

</style>
<style type="text/css">
 li.c2 {list-style: none}
 div.c1 {text-align: center}
</style>
  </head>
  <body>
    <h2>Οδηγίες Αναβάθμισης Πλατφόρμας GUNet eClass 2.0</h2>

 <h3>Διαδικασία Aναβάθμισης </h3>

<p>Με τις παρακάτω οδηγίες περιγράφεται αναλυτικά η διαδικασία 
αναβάθμισης της πλατφόρμας GUnet eClass από τις προηγούμενες 
εκδόσης στην τρέχουσα 2.0</p>

<p>Καταρχήν βεβαιωθείτε ότι την ώρα της αναβάθμισης δεν γίνονται 
μαθήματα ούτε υπάρχει πρόσβαση στις βάσεις δεδομένων του eClass. 
Οι παρακάτω ενέργεις προϋποθέτουν ότι έχετε δικαιώματα διαχειριστή 
(root) στον υπολογιστή.</p>

Η διαδικασία αναβάθμισης περιλαμβάνει 2 βήματα.

<ul><li>
<a href="upgrade.html#unix">Για υπολογιστές με λειτουργικό σύστημα Unix (Solaris κ.λπ.) / Linux (Redhat, Debian, Suse, Mandrake κ.λπ.)</a></li>
<li><a href="upgrade.html#win">Για υπολογιστές με λειτουργικό σύστημα Windows (Win2000, WinXP, Win2003 κ.λπ.)</a></li>
<li><a href="upgrade.html#dbase">Αναθάθμιση της Βάσης Δεδομένων</a></li>
<li><a href="upgrade.html#after">Ενέργειες μετά την εγκατάσταση</a></li>
<li><a href="upgrade.html#oldest">Αναβάθμιση από παλιότερες εκδόσεις (1.5, 1.6)</a></li>
</ul>

<a name="unix"><h3>Για υπολογιστές με λειτουργικό σύστημα Unix (Solaris κ.λπ.) / Linux (Redhat, Debian, Suse, Mandrake κ.λπ.)</h3></a>

<p>Το ακόλουθο παράδειγμα θεωρεί ότι η πλατφόρμα eClass είναι ήδη 
εγκατεστημένη στον κατάλογο <code>/var/www/html</code>.</p>

<p>Λόγω αρκετών αλλαγών στη καινούρια έκδοση του GUnet eClass θα πρέπει 
να διαγράψετε την παλιά έκδοση και να εγκαταστήσετε την καινούρια. 
</p>

<p>θεωρούμε ότι έχετε κατεβάσει το <b>eclass-2.0.tar.gz</b> στο κατάλογο <code>/tmp</code></p>

<ul>
<li>Μεταβείτε στον κατάλογο που έχετε εγκατεστημένο το eClass. 
    π.χ. <pre>cd /var/www/html</pre></li>
<li>Αποσυμπιέστε το eclass-2.0.tar.gz στον κατάλογο που είχατε εγκαταστήσει 
    την προηγούμενη έκδοση του eclass.
    π.χ. <pre>cd /var/www/html
tar xzvf /tmp/eclass-2.0.tar.gz</pre></li>
 <li>Διορθώστε (αν χρειάζεται) τα permissions των αρχείων και των 
    υποκαταλόγων δίνοντας τις παρακάτω εντολές:
    (υποθέτοντας ότι ο user με τον οποίο τρέχει ο apache είναι ο www-data)

			<pre>cd /var/www/html
chown -R www-data *
find ./ -type f -exec chmod 664 {} \;
find ./ -type d -exec chmod 775 {} \;</pre>
</li>
</ul>

<p>Μόλις ολοκληρωθούν τα παραπάνω, θα έχετε εγκαταστήσει επιτυχώς τα αρχεία 
της νέας έκδοσης του eClass (eClass 2.0). Στη συνέχεια ακολουθήστε τις 
οδηγίες που περιγράφονται <a href="upgrade.html#dbase">εδώ</a> για να αναβαθμίσετε τις βάσεις δεδομένων του.</p>


<h3><a name="win">Για υπολογιστές με λειτουργικό σύστημα Windows (Win2000, WinXP, Win2003 κ.λπ.)</a></h3>
	 	 
<p>Το ακόλουθο παράδειγμα προϋποθέτει ότι το eClass είναι ήδη εγκατεστημένο 
στον κατάλογο <code>C:\Program Files\Apache\htdocs\</code> και ότι έχετε κατεβάσει 
το <b>eclass-2.0.zip</b>.</p>

<p>
Λόγω αρκετών αλλαγών στη καινούρια έκδοση του eClass θα πρέπει να 
διαγράψετε την παλιά έκδοση και να εγκαταστήσετε την καινούρια. 
</p>

<ul>
<li>Μεταβείτε στον κατάλογο που έχετε εγκατεστημένο το eClass. 
    π.χ. <code>C:\Program Files\Apache\htdocs</code></li>
 <li>Αποσυμπιέστε το eclass-2.0.zip σε ένα προσωρινό φάκελο στην επιφάνεια 
    εργασίας. 
   π.χ. <code>C:\Documents and Settings\Administrator\Desktop\eclass20</code>. 
    Κατόπιν μπαίνουμε στο προσωρινό φάκελο και αντιγράφουμε (copy) το φάκελο 
    eclass με όλα τα περιεχόμενα του (δηλαδή αρχεία και φακέλους). 
    Στη συνέχεια ανοίγουμε το φάκελο που περιέχει την εγκατάσταση του 
    eClass, π.χ. <code>C:\Program Files\Apache\htdocs\</code> και κάνουμε επικόλληση 
    (paste). Με τον τρόπο αυτό, αντικαθίσταται ο φάκελος eclass, από αυτόν 
    της νέας διανομής.</li>
 <li>Τέλος διαγράφουμε το φάκελο στην επιφάνεια εργασίας όπου προσωρινά 
    αποσυμπιέσαμε τη νέα διανομή.</li>
 
<li>Μόλις ολοκληρωθούν τα παραπάνω θα έχετε εγκαταστήσει με επιτυχία τα αρχεία της 
νέας έκδοσης του GUnet eClass. Στη συνέχεια ακολουθήστε τις οδηγίες που περιγράφονται 
<a href="upgrade.html#dbase">εδώ</a> για να αναβαθμίσετε τις βάσεις δεδομένων του.</li>
</ul> 
<a name="dbase"><h3>Αναβάθμιση της Βάσης Δεδομένων</h3></a>
 
 <p>Αφού ολοκληρώσετε με επιτυχία τα παραπάνω πληκτρολογήστε στον browser σας 
  το ακόλουθο URL:</p> 
  <code>http://(url του eclass)/upgrade/</code>
  <p>Θα σας ζητηθεί το όνομα χρήστη (username) και συνθηματικό (password) του 
  διαχειριστή της πλατφόρμας. Αφού δώσετε τα στοιχεία σας θα αρχίσει η αναβάθμιση των βάσεων δεδομένων.
  Στην οθόνη σας θα δείτε διάφορα μηνύματα σχετικά με την πρόοδο της εργασίας.
  Φυσιολογικά δεν θα πρέπει να δείτε μηνύματα λάθους.</p>
  <p>Στην αντίθετη περίπτωση (αν δηλαδή εμφανιστούν μύνηματα λάθους) τότε 
  πιθανόν να μην λειτουργήσει εντελώς σωστά κάποιο μάθημα. 
  Τέτοια μηνύματα λάθους μπορεί να εμφανιστούν, αν έχετε τροποποιήσει τη 
  δομή κάποιου πίνακα από τις βάσεις του eClass.
  Σημειώστε (αν είναι δυνατόν) το ακριβές μήνυμα λάθους που σας εμφανίστηκε.</p>
  <p>Αν μετά την αναβάθμιση αντιμετωπίσετε προβλήματα με κάποιο μάθημα τότε 
  επικοινωνήστε μαζί μας (<a href="mailto:eclass@gunet.gr">eclass@gunet.gr</a>).</p> 

<a name="after"><h3>Ενέργειες μετά την εγκατάσταση</h3></a>

<p>Είστε έτοιμοι! Για να βεβαιωθείτε πηγαίνετε στο διαχειριστικό εργαλείο και επιλέξτε 
<i>Tρέχουσα έκδοση της πλατφόρμας</i>. Θα πρέπει να αναγράφετε η έκδοση <b>2.0</b>.</p>
<p>Εναλλακτικά, από την αρχική σελίδα της πλατφόρμας, επιλέξτε το σύνδεσμο <i>Ταυτότητα Πλατφόρμας</i>.
Ανάμεσα στα άλλα θα αναγράφετε η έκδοση <b>2.0</b> της πλατφόρμας.</p>

<p>Για να δείτε τα καινούρια χαρακτηριστικά της νέας έκδοσης ανατρέξτε στο αρχείο 
κειμένου <a href="CHANGES.txt" target=_blank>CHANGES.txt</a>.</p>
  
<div class="note"><b>Σημείωση 1:</b>
<li>Στο αρχείο <em>config.php</em> ορίζεται η μεταβλητή <em>have_latex</em> η οποία
      εξ'ορισμού έχει τιμή <em>FALSE</em>. Αλλάζοντας την σε τιμή <em>TRUΕ</em> θα έχετε
      υποστήριξη μαθηματικών συμβόλων σε ορισμένα υποσυστήματα του
      eClass. Αυτό όμως προϋποθέτει την ύπαρξη συστήματος latex στο
      σύστημα που φιλοξενεί το eClass. Περισσότερα για τις ρυθμίσεις που θα πρέπει να κάνετε, ανατρέξτε στο
      αρχείο <em>README_latex.txt</em>
      Αν δεν επιθυμείτε υποστήριξη latex αφήστε την όπως είναι
      (δηλαδή στην τιμή <em>FALSE</em>).
      </li>
</div>
<br>
<div class="note"><b>Σημείωση 2:</b>
<li>Από την έκδοση 1.7 και μετά στο αρχείο <em>config.php</em> μπορείτε να οριστεί η μεταβλητή <em>close_user_registration</em>
      η οποία εξ'ορισμού έχει τιμή <em>FALSE</em>. Αλλάζοντας την σε τιμή <em>TRUE</em>
      η εγγραφή χρηστών με δικαιώματα "φοιτητή" δεν θα είναι πλέον ελεύθερη. Οι
      χρήστες για να αποκτήσουν λογαριασμό στην πλατφόρμα θα ακολουθούν πλέον
      διαδικασία παρόμοια με τη δημιουργία λογαριασμού "καθηγητή" δηλαδή θα συμπληρώνουν
      μια φόρμα-αίτηση δημουργίας λογαριασμού φοιτητή. Η αίτηση εξετάζεται από
      τον διαχειριστή ο οποίος εγκρίνει την αίτηση, οπότε δημιουργεί τον λογαριασμό,
      ή την απορρίπτει. Αν δεν επιθυμείτε να αλλάξει ο τρόπος εγγραφής φοιτητών
      αφήστε την όπως είναι. (δηλαδή στην τιμή <em>FALSE</em>).
  </li>
</div>
<br>
<div class="note"><b>Σημείωση 3:</b>
<li>Μπορείτε να προσθέσετε κείμενο (π.χ. ενημερωτικού περιεχομένου) στα αριστερά και δεξιά της αρχικής σελίδα
ς της πλατφόρμας. Για το σκοπό αυτό, απλά πληκτρολογήστε το κείμενο της αρεσκείας σας (ακόμα και σε μορφή HTML) στα script
s <em>eclass_home_extras_left.html</em> και <em>eclass_home_extras_right.html</em> αντίστοιχα, που βρίσκονται στον αρχικό
κατάλογο του eClass.</li>
</div>

<a name="oldest"><h3>Αναβάθμιση από παλιότερες εκδόσεις (1.5, 1.6)</h3></a>

Να τονίσουμε ότι από την έκδοση 1.7 της πλατφόρμας, οι κατάλογοι των μαθημάτων αποθηκεύονται
σε ένα καινούριο κατάλογο με όνομα courses. Επίσης έχει αλλάξει η τοποθεσία του αρχείου ρυθμίσεων
(<code>config.php</code>), όπου πλέον βρίσκεται σε ένα καινούριο κατάλογο, με όνομα <em>config</em>.
Για να μην χαθούν οι παλιές σας ρυθμίσεις και τα μαθήματα που έχουν
δημιουργηθεί, θα πρέπει να κάνετε τα παρακάτω:
<ul>
<li> Μετακινήστε το αρχείο των ρυθμίσεων (<em>eclass/claroline/include/config.php</em>)
    σε ένα άλλο προσωρινό κατάλογο.
    Μια καλή λύση είναι ο κατάλογος <em>/tmp</em>
    π.χ. <pre>mv /var/www/html/eclass/claroline/include/config.php /tmp</pre></li>
 <li>Αν έχετε μαθήματα στα οποία έχετε χρησιμοποιήσει την λειτουργία "Κουβέντα",
    τότε μετακινήστε και τα αρχεία με τις προηγούμενες κουβέντες των μαθημάτων.
    Αυτά βρίσκονται στον κατάλογο eclass/claroline/chat/ και έχουν
    την μορφή κωδικός_μαθήματος.chat.txt
    π.χ. <pre>mv /var/www/html/eclass/claroline/chat/*.txt /tmp</pre></li>
<li>Διαγράψτε όλο τον κατάλογο claroline μαζί με όλους τους υποκαταλόγους και
    τα αρχεία κάτω από αυτόν. Π.χ.
    <pre>cd /var/www/html/eclass/
rm -rf claroline/)</pre></li>
 <li> Αποσυμπιέστε το eclass-2.0.tar.gz στον κατάλογο που είχατε εγκαταστήσει
    την προηγούμενη έκδοση του eclass.
    π.χ. <pre>cd /var/www/html
tar xzvf /tmp/eclass-2.0.tar.gz</pre></li>
 <li>Στον κατάλογο που αποσυμπιέστηκε το eclass δημιουργήστε τους καταλόγους <em>config</em> και <em>courses</em>.
    π.χ. <pre>cd /var/www/html/eclass
mkdir config
mkdir courses</pre></li>
 <li>Μετακινήστε το αρχείο <em>config.php</em> στον κατάλογο <em>config</em>.
    π.χ. <pre>mv /tmp/config.php /var/www/html/eclass/config/</pre></li>
 <li>Μετακινήστε τους καταλόγους των μαθημάτων στον κατάλογο courses.
 (π.χ. αν έχουμε μαθήματα με κωδικούς ΤΜΑ100, ΤΜΑ101)
  <pre>cd /var/www/html/eclass
mv TMA* ./courses/)</pre></li>
 <li>Επαναφέρετε και τα αρχεία με τις προηγούμενες κουβέντες στην αρχική τους θέση.
    π.χ. <pre>mv /tmp/*.txt
/var/www/html/eclass/claroline/chat/</pre></li>
</ul>     
<br>

<div class="note">
<b>Μόνο για συστήματα Windows:</b>
<ul>
<li>Μεταβείτε στον κατάλογο που έχετε εγκατεστημένο το eClass.
    π.χ. <code>C:\Program Files\Apache\htdocs</code></li>
 <li>Μετακινήστε το αρχείο των ρυθμίσεων
    <code>C:\Program Files\Apache\htdocs\eclass\claroline\include\config.php</code>
    σε ένα άλλο προσωρινό φάκελο στην επιφάνεια εργασίας.
    π.χ. από το <code>C:\Program Files\Apache\htdocs\eclass\claroline\include\</code>
    στο κατάλογο <code>C:\Documents and Settings\Administrator\Desktop\</code></li>
 <li>Αν έχετε μαθήματα στα οποία έχετε χρησιμοποιήσει την λειτουργία
    <em>"Κουβέντα"</em> τότε μετακινήστε και τα αρχεία με τις προηγούμενες κουβέντες
    των μαθημάτων. Αυτά βρίσκονται στον κατάλογο
    <code>C:\Program Files\Apache\htdocs\eclass\claroline\chat\</code>
    και έχουν την μορφή κωδικός_μαθήματος.chat.txt</li>
 <li>Μπείτε στο κατάλογο που είναι εγκατεστημένο το eclass
    δηλαδή <code>C:\Program Files\Apache\htdocs\eclass\</code>
    και διαγράψτε τον κατάλογο claroline μαζί με τους υποκαταλόγους του.</li>
 <li>Αποσυμπιέστε το eclass-2.0.zip σε ένα προσωρινό φάκελο στην επιφάνεια
    εργασίας.
   π.χ. <code>C:\Documents and Settings\Administrator\Desktop\eclass20</code>.
    Κατόπιν μπαίνουμε στο προσωρινό φάκελο και αντιγράφουμε (copy) το φάκελο
    eclass με όλα τα περιεχόμενα του (δηλαδή αρχεία και φακέλους).
    Στη συνέχεια ανοίγουμε το φάκελο που περιέχει την εγκατάσταση του
    eClass, π.χ. <code>C:\Program Files\Apache\htdocs\</code> και κάνουμε επικόλληση
    (paste). Με τον τρόπο αυτό, αντικαθίσταται ο φάκελος eclass, από αυτόν
    της νέας διανομής.</li>
 <li>Πηγαίνουμε στον κατάλογο eclass και δημιουργούμε δύο νέους καταλόγους
    τον <em>config</em> και <em>courses</em>.</li>
 <li>Μετακινούμε το αρχείο config.php, στον κατάλογο config που μόλις δημιουργήσαμε.
     δηλαδή <code>C:\Program Files\Apache\htdocs\eclass\config\</code></li>
 <li>Μετακινούμε τους καταλόγους των μαθημάτων μέσα στο κατάλογο courses που δημουργήσαμε προηγουμένως
  δηλαδή <code>C:\Program Files\Apache\htdocs\eclass\courses\</code> </li>
 <li>Επαναφέρετε και τα αρχεία με τις προηγούμενες κουβέντες στην αρχική
    τους θέση δηλαδή στο <code>C:\Program Files\Apache\htdocs\eclass\claroline\chat\</code></li>
</ul>
</div>
