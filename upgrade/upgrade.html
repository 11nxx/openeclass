<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Οδηγίες Εγκατάστασης Πλατφόρμας GUNet e-Class 1.7</title>
<style type="text/css">

body {
 font-family: Verdana, Times New Roman;
  font-size: 12px;
  font-weight: normal;
 margin-right: 2em;
 margin-left: 2em;
}

p {
 line-height: 110%;
}
 
ol, ul {
 line-height: 140%;
}


h1, h2, h3, h4, h5 {
 font-weight: bold;
}

h2 { 
  font-size: 19px;
} 

h3 { 
  font-size: 16px;
} 

h4 { 
  font-size: 13px;
} 

pre {
 margin-left: 3em;
 padding: .5em;
}

.note {
 background-color: #E6E6E6;
}

</style>
<style type="text/css">
 li.c2 {list-style: none}
 div.c1 {text-align: center}
</style>
  </head>
  <body>
    <h2>Οδηγίες Αναβάθμισης Πλατφόρμας GUNet e-Class 1.7</h2>

 <h3>Διαδικασία Aναβάθμισης </h3>

<p>Με τις παρακάτω οδηγίες περιγράφεται αναλυτικά η διαδικασία 
αναβάθμισης της πλατφόρμας GUnet e-Class από τις προηγούμενες 
εκδόσης στην τρέχουσα 1.7</p>

<p>Καταρχήν βεβαιωθείτε ότι την ώρα της αναβάθμισης δεν γίνονται 
μαθήματα ούτε υπάρχει πρόσβαση στις βάσεις δεδομένων του e-Class. 
Οι παρακάτω ενέργεις προϋποθέτουν ότι έχετε δικαιώματα διαχειριστή 
(root) στον υπολογιστή.</p>

Η διαδικασία αναβάθμισης περιλαμβάνει 2 βήματα.


<ul><li>
<a href="upgrade.html#unix">Για υπολογιστές με λειτουργικό σύστημα Unix (Solaris κ.λπ.) / Linux (Redhat, Debian, Suse, Mandrake κ.λπ.)</a></li>
<li><a href="upgrade.html#win">Για υπολογιστές με λειτουργικό σύστημα Windows (Win2000, WinXP, Win2003 κ.λπ.)</a></li>
<li><a href="upgrade.html#dbase">Αναθάθμιση της Βάσης Δεδομένων</a></li>
<li><a href="upgrade.html#after">Ενέργειες μετά την εγκατάσταση</a></li>
<li><a href="upgrade.html#oldest">Αναβάθμιση από παλιότερες εκδόσεις</a></li>
</ul>

<a name="unix"><h3>Για υπολογιστές με λειτουργικό σύστημα Unix (Solaris κ.λπ.) / Linux (Redhat, Debian, Suse, Mandrake κ.λπ.)</h3></a>

<p>Το ακόλουθο παράδειγμα θεωρεί ότι η πλατφόρμα e-Class είναι ήδη 
εγκατεστημένη στον κατάλογο <code>/var/www/html</code>.</p>

<p>Λόγω αρκετών αλλαγών στη καινούρια έκδοση του GUnet e-Class θα πρέπει 
να διαγράψετε την παλιά έκδοση και να εγκαταστήσετε την καινούρια. 
Να τονίσουμε ότι στην έκδοση 1.7 της πλατφόρμας, οι κατάλογοι των μαθημάτων αποθηκεύονται
σε ένα καινούριο κατάλογο με όνομα courses. Επίσης έχει αλλάξει η τοποθεσία του αρχείου ρυθμίσεων 
(<code>config.php</code>), όπου πλέον βρίσκεται σε ένα καινούριο κατάλογο, με όνομα <em>config</em>. 
Για να μην χαθούν οι παλιές σας ρυθμίσεις και τα μαθήματα που έχουν 
δημιουργηθεί, θα πρέπει να κάνετε τα παρακάτω:</p>

<p>θεωρούμε ότι έχετε κατεβάσει το <b>eclass-1.7.tar.gz</b> στο κατάλογο <code>/tmp </code></p>

<ul>
<li>Μεταβείτε στον κατάλογο που έχετε εγκατεστημένο το e-Class. 
    π.χ. <pre>cd /var/www/html</pre><li>
<li> Μετακινήστε το αρχείο των ρυθμίσεων (<em>eclass/claroline/include/config.php</em>) 
    σε ένα άλλο προσωρινό κατάλογο. 
    Μια καλή λύση είναι ο κατάλογος <em>/tmp</em>
    π.χ. <pre>mv /var/www/html/eclass/claroline/include/config.php /tmp</pre></li>
 <li>Αν έχετε μαθήματα στα οποία έχετε χρησιμοποιήσει την λειτουργία "Κουβέντα", 
    τότε μετακινήστε και τα αρχεία με τις προηγούμενες κουβέντες των μαθημάτων. 
    Αυτά βρίσκονται στον κατάλογο eclass/claroline/chat/ και έχουν 
    την μορφή κωδικός_μαθήματος.chat.txt
    π.χ. <pre>mv /var/www/html/eclass/claroline/chat/*.txt /tmp</pre> </li>
<li>Διαγράψτε όλο τον κατάλογο claroline μαζί με όλους τους υποκαταλόγους και 
    τα αρχεία κάτω από αυτόν. Π.χ.
    <pre>cd /var/www/html/eclass/ 
    rm -rf claroline/)</pre></li>
 <li> Αποσυμπιέστε το eclass-1.7.tar.gz στον κατάλογο που είχατε εγκαταστήσει 
    την προηγούμενη έκδοση του eclass.
    π.χ. <pre>cd /var/www/html
 	tar xzvf /tmp/eclass-1.7.tar.gz<pre></li>
 <li>Στον κατάλογο που αποσυμπιέστηκε το eclass δημιουργήστε τους καταλόγους <em>config</em> και <em>courses</em>.
    π.χ. <pre>cd /var/www/html/eclass
    	mkdir config
	mkdir courses</pre></li>
 <li>Μετακινήστε το αρχείο <em>config.php</em> στον κατάλογο <em>config</em>.
    π.χ. <pre>mv /tmp/config.php /var/www/html/eclass/config/</pre><li>
 <li>Ανοίξτε το αρχείο config.php, και αλλάξτε την μεταβλητή
 	$bannerPath = "claroline/image/gunet/banner.jpg";
	σε 
	$bannerPath = "images/gunet/banner.jpg";</li>
 <li>Μετακινήστε τους καταλόγους των μαθημάτων στον κατάλογο courses.
 (π.χ. αν έχουμε μαθήματα με κωδικούς ΤΜΑ100, ΤΜΑ101)
 	cd /var/www/html/eclass
 	mv TMA* ./courses/)  </li>
 <li>Επαναφέρετε και τα αρχεία με τις προηγούμενες κουβέντες στην αρχική τους θέση.
    π.χ. mv /tmp/*.txt /var/www/html/eclass/claroline/chat/</li>
 <li>Διορθώστε (αν χρειάζεται) τα permissions των αρχείων και των 
    υποκαταλόγων δίνοντας τις παρακάτω εντολές:
    (υποθέτοντας ότι ο user με τον οποίο τρέχει ο apache είναι ο www-data)

     chmod 755 eclass/ eclass/courses/archive/ eclass/courses/garbage/ \
         eclass/modules/chat/ eclass/include/
     chown www-data eclass/ eclass/courses/archive/ eclass/courses/garbage/ \
         eclass/courses/*/chat/ eclass/include/</li>
</ul>

<p>Μόλις ολοκληρωθούν τα παραπάνω, θα έχετε εγκαταστήσει επιτυχώς τα αρχεία 
της νέας έκδοσης του e-Class (e-Class 1.7). Στη συνέχεια ακολουθήστε τις 
οδηγίες του "2ου Βήματος" για να αναβαθμίσετε τις βάσεις δεδομένων του.</p>


<h3><a name="win">Για υπολογιστές με λειτουργικό σύστημα Windows (Win2000, WinXP, Win2003 κ.λπ.)</a></h3>
	 	 

<p>Το ακόλουθο παράδειγμα προϋποθέτει ότι το e-Class είναι ήδη εγκατεστημένο 
στον κατάλογο <code>C:\Program Files\Apache\htdocs\</code> και ότι έχετε κατεβάσει 
το <b>eclass-1.7.zip</b>.</p>

<p>
Λόγω αρκετών αλλαγών στη καινούρια έκδοση του e-Class θα πρέπει να 
διαγράψετε την παλιά έκδοση και να εγκαταστήσετε την καινούρια. 
Να τονίσουμε ότι στην έκδοση 1.7 της πλατφόρμας, οι κατάλογοι των μαθημάτων αποθηκεύονται
σε ένα καινούριο κατάλογο με όνομα <em>courses</em>. Επίσης έχει αλλάξει η τοποθεσία του αρχείου ρυθμίσεων 
<code>(config.php)</code>, όπου πλέον βρίσκεται σε ένα καινούριο κατάλογο, με όνομα <em>config</em>. 
Για να μην χαθούν όμως οι παλιές σας ρυθμίσεις και τα μαθήματα που 
έχουν δημιουργηθεί, θα πρέπει να κάνετε τα παρακάτω.</p>


<ul>
<li>Μεταβείτε στον κατάλογο που έχετε εγκατεστημένο το e-Class. 
    π.χ. <code>C:\Program Files\Apache\htdocs</code></li>
 <li>Μετακινήστε το αρχείο των ρυθμίσεων 
    <code>C:\Program Files\Apache\htdocs\eclass\claroline\include\config.php</code> 
    σε ένα άλλο προσωρινό φάκελο στην επιφάνεια εργασίας.
    π.χ. από το <code>C:\Program Files\Apache\htdocs\eclass\claroline\include\</code> 
    στο κατάλογο <code>C:\Documents and Settings\Administrator\Desktop\</code></li>
 <li>Αν έχετε μαθήματα στα οποία έχετε χρησιμοποιήσει την λειτουργία 
    <em>"Κουβέντα"</em> τότε μετακινήστε και τα αρχεία με τις προηγούμενες κουβέντες 
    των μαθημάτων. Αυτά βρίσκονται στον κατάλογο 
    <code>C:\Program Files\Apache\htdocs\eclass\claroline\chat\</code> 
    και έχουν την μορφή κωδικός_μαθήματος.chat.txt</li>
 <li>Αν έχετε αλλάξει τα στοιχεία επικοινωνίας (που βρίσκονται στο αρχείο 
    <code>(path του e-Class)/claroline/lang/greek/gunet.inc.php</code> τότε σημειώστε τα κάπου προσωρινά,
    γιατί το συγκεκριμένο αρχείο θα αντικατασταθεί.</li>
 <li>Μπείτε στο κατάλογο που είναι εγκατεστημένο το eclass 
    δηλαδή <code>C:\Program Files\Apache\htdocs\eclass\</code>
    και διαγράψτε τον κατάλογο claroline μαζί με τους υποκαταλόγους του.</li>
 <li>Αποσυμπιέστε το eclass-2.0.zip σε ένα προσωρινό φάκελο στην επιφάνεια 
    εργασίας. 
   π.χ. <code>C:\Documents and Settings\Administrator\Desktop\eclass20</code>. 
    Κατόπιν μπαίνουμε στο προσωρινό φάκελο και αντιγράφουμε (copy) το φάκελο 
    eclass με όλα τα περιεχόμενα του (δηλαδή αρχεία και φακέλους). 
    Στη συνέχεια ανοίγουμε το φάκελο που περιέχει την εγκατάσταση του 
    e-Class, π.χ. <code>C:\Program Files\Apache\htdocs\</code> και κάνουμε επικόλληση 
    (paste). Με τον τρόπο αυτό, αντικαθίσταται ο φάκελος eclass, από αυτόν 
    της νέας διανομής.</li>
 <li>Πηγαίνουμε στον κατάλογο eclass και δημιουργούμε δύο νέους καταλόγους 
    τον <em>config</em> και <em>courses</em>.</li>
 <li>Μετακινούμε το αρχείο config.php, στον κατάλογο config που μόλις δημιουργήσαμε.
     δηλαδή <code>C:\Program Files\Apache\htdocs\eclass\config\</code></li>
 <li>Ανοίγουμε το αρχείο <em>config.php</em> με ένα απλό text editor (π.χ. notepad) 
 και αλλάζουμε την μεταβλητή
 	<pre>$bannerPath = "claroline/image/gunet/banner.jpg";</pre>
	σε 
	<pre>$bannerPath = "images/gunet/banner.jpg";</pre></li>
 <li>Μετακινούμε τους καταλόγους των μαθημάτων μέσα στο κατάλογο courses που δημουργήσαμε προηγουμένως
 	δηλαδή <code>C:\Program Files\Apache\htdocs\eclass\courses\</code> </li>
 <li>Επαναφέρετε και τα αρχεία με τις προηγούμενες κουβέντες στην αρχική 
    τους θέση δηλαδή στο <code>C:\Program Files\Apache\htdocs\eclass\claroline\chat\</code></li>
 <li>Τέλος διαγράφουμε το φάκελο στην επιφάνεια εργασίας όπου προσωρινά 
    αποσυμπιέσαμε τη νέα διανομή.</li>
 
<li>Μόλις ολοκληρωθούν τα παραπάνω θα έχετε εγκαταστήσει με επιτυχία τα αρχεία της 
νέας έκδοσης του GUnet e-Class.</li>
  
<a name="dbase"><h3>Αναθάθμιση της Βάσης Δεδομένων</h3></a>
 
 <p>Αφού ολοκληρώσετε με επιτυχία το βήμα 1 πληκτρολογήστε στον browser σας 
  το ακόλουθο URL</p> 
  <code>http://(url του eclass)/upgrade/</code>
  <p>Θα σας ζητηθεί το όνομα χρήστη (username) και συνθηματικό (password)του 
  διαχειριστή της πλατφόρμας. Αφού δώσετε τα στοιχεία σας θα αρχίσει η αναβάθμιση των βάσεων δεδομένων.
  Στην οθόνη σας θα δείτε διάφορα μηνύματα σχετικά με την πρόοδο της εργασίας.
  Φυσιολογικά δεν θα πρέπει να δείτε μηνύματα λάθους.</p>
  <p>Στην αντίθετη περίπτωση (αν δηλαδή εμφανιστούν μύνηματα λάθους) τότε 
  πιθανόν να μην λειτουργήσει εντελώς σωστά κάποιο μάθημα. 
  Τέτοια μηνύματα λάθους μπορεί να εμφανιστούν, αν έχετε τροποποιήσει τη 
  δομή κάποιου πίνακα από τις βάσεις του e-Class.
  Σημειώστε (αν είναι δυνατόν) το ακριβές μήνυμα λάθους που σας εμφανίστηκε.</p>
  <p>Αν μετά την αναβάθμιση αντιμετωπίσετε προβλήματα με κάποιο μάθημα τότε 
  επικοινωνήστε μαζί μας (<a href="mailto:teledu@gunet.gr">teledu@gunet.gr</a>).</p> 


<a name="after"><h3>Ενέργειες μετά την εγκατάσταση</h3></a>

<p>Είστε έτοιμοι! Για να βεβαιωθείτε πηγαίνετε στο διαχειριστικό εργαλείο και επιλέξτε 
"Tρέχουσα έκδοση της πλατφόρμας". Θα πρέπει να αναγράφετε η έκδοση <em>1.7</em>.
Εναλλακτικά, από την αρχική σελίδα της πλατφόρμας, επιλέξτε το σύνδεσμο "Ταυτότητα Πλατφόρμας".
Ανάμεσα στα άλλα θα αναγράφετε η έκδοση 1.7 της πλατφόρμας.</p>

<p>Για να δείτε τα καινούρια χαρακτηριστικά της νέας έκδοσης ανατρέξτε στο αρχείο 
κειμένου CHANGES.txt</p>
  
<a name="oldest"><h3>Αναβάθμιση από παλιότερες εκδόσεις</h3></a>

<h4>Για όσους αναβαθμίζουν το e-Class από την έκδοση 1.3 στη νέα έκδοση 1.7</h4>
<ul>
<li>Οι μεταβλητές <em>$diskQuotaDocument, $diskQuotaGroup, $diskQuotaVideo</em> 
      οι οποίες οριζόντουσαν στο αρχείο <em>config.php</em>, δεν ισχύουν πλέον 
      και μπορείτε να τις διαγράψετε. Τα quota (δηλαδή το μέγιστο επιτρεπόμενο μέγεθος σε bytes των αρχείων 
      που μπορείτε να κάνετε upload) που υπάρχουν στα υποσυστήματα 
      <em>"Έγγραφα","Βίντεο","Ομάδες Χρηστών"</em> ορίζονται πλέον ανά μάθημα και 
      όχι συνολικά όπως γινόταν έως τώρα. Επομένως αν θέλετε να αλλάξετε τα quota για ένα συγκεκριμένο μάθημα 
      θα πρέπει να κάνετε τα εξής:
      <ul><li>
      Μπείτε στο e-Class σαν διαχειριστής. Από τα εργαλεία διαχείρισης 
      του e-Class χρησιμοποιήστε το phpmyadmin για να μεταβείτε στην 
      κύρια βάση δεδομένων του e-Class. Αναζητήστε τον πίνακα cours. 
      Στον πίνακα cours υπάρχει μια εγγραφή για κάθε μάθημα. Εντοπίστε 
      την εγγραφή που αντιστοιχεί στο μάθημα που επιθυμείτε να αλλάξετε 
      τα quota. Αναζητήστε τα πεδία doc_quota, video_quota, group_quota. 
      Οι τιμές αυτές καθορίζουν τα quota για τα υποσύστηματα <em>"Έγγραφα", 
      "Βίντεο", "Ομάδες Χρηστών"</em> αντίστοιχα. Μπορείτε να τις αλλάξετε 
      σε τιμές της αρεσκείας σας.</li></ul>
 </li>     
 <li>Στο αρχείο <em>config.php</em> ορίζεται η μεταβλητή <em>have_latex</em> η οποία 
      εξ'ορισμού έχει τιμή <em>FALSE</em>. Αλλάζοντας την σε τιμή <em>TRUΕ</em> θα έχετε 
      υποστήριξη μαθηματικών συμβόλων σε ορισμένα υποσυστήματα του 
      e-Class. Αυτό όμως προϋποθέτει την ύπαρξη συστήματος latex στο 
      σύστημα που φιλοξενεί το e-Class. Περισσότερα για τις ρυθμίσεις που θα πρέπει να κάνετε, ανατρέξτε στο 
      αρχείο <em>README_latex.txt</em>
      Αν δεν επιθυμείτε υποστήριξη latex αφήστε την όπως είναι 
      (δηλαδή στην τιμή <em>FALSE</em>).
      </li>
</ul>
 
<h4>Για όσους αναβαθμίζουν το e-Class από την έκδοση 1.2 στη νέα έκδοση 1.7</h4>
 
<ul><li> H λειτουργία του υποσυστήματος <em>Εργασίες Φοιτητών</em> έχει αλλάξει 
     σημαντικά. Παρόλα αυτά οι καθηγητές των μαθημάτων θα μπορούν να 
     έχουν πρόσβαση στις εργασίες των φοιτητών που είχαν υποβληθεί με 
     βάση το παλιότερο σύστημα (πριν την έκδοση 1.3).
     Για το λόγο αυτό, παρακαλούμε να ενημερώσετε τους καθηγητές ότι 
     θα βρούν σχετικό link (που θα παραπέμπει στις παλιές εργασίες) 
     μέσα στις <em>Εργασίες Φοιτητών</em>.</li></ul>
  
