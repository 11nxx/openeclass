************************************************
 Διαδικασία Aναβάθμισης 
************************************************

Με τις παρακάτω οδηγίες περιγράφεται αναλυτικά η διαδικασία 
αναβάθμισης της πλατφόρμας GUnet e-Class από τις προηγούμενες 
εκδόσης στην τρέχουσα 1.6.

Καταρχήν βεβαιωθείτε ότι την ώρα της αναβάθμισης δεν γίνονται 
μαθήματα ούτε υπάρχει πρόσβαση στις βάσεις δεδομένων του e-Class. 
Οι παρακάτω ενέργεις προϋποθέτουν ότι έχετε δικαιώματα διαχειριστή 
(root) στον υπολογιστή.

Η διαδικασία αναβάθμισης περιλαμβάνει 2 βήματα.


********************************************************************
 1o βήμα - Για υπολογιστές με λειτουργικό σύστημα Unix 
 (Solaris κ.λπ.) / Linux (Redhat, Debian, Suse, Mandrake κ.λπ.)
********************************************************************

Το ακόλουθο παράδειγμα θεωρεί ότι η πλατφόρμα e-Class είναι ήδη 
εγκατεστημένη στον κατάλογο /var/www/html. 

Λόγω αρκετών αλλαγών στη καινούρια έκδοση του GUnet e-Class θα πρέπει 
να διαγράψετε την παλιά έκδοση και να εγκαταστήσετε την καινούρια. 
Για να μην χαθούν όμως οι παλιές σας ρυθμίσεις και τα μαθήματα που έχουν 
δημιουργηθεί, θα πρέπει να κάνετε τα παρακάτω.

θεωρούμε ότι έχετε κατεβάσει το eclass-1.6.tar.gz στο κατάλογο /tmp 

 α) Μεταβείτε στον κατάλογο που έχετε εγκατεστημένο το e-Class. 
    (π.χ. cd /var/www/html)
 β) Μετακινήστε το αρχείο των ρυθμίσεων (eclass/claroline/include/config.php) 
    σε ένα άλλο προσωρινό κατάλογο. 
    Μια καλή λύση είναι ο κατάλογος /tmp.
    (π.χ. mv /var/www/html/eclass/claroline/include/config.php /tmp)
 γ) Αν έχετε μαθήματα στα οποία έχετε χρησιμοποιήσει την λειτουργία "Κουβέντα", 
    τότε μετακινήστε και τα αρχεία με τις προηγούμενες κουβέντες των μαθημάτων. 
    Αυτά βρίσκονται στον κατάλογο eclass/claroline/chat/ και έχουν 
    την μορφή κωδικός_μαθήματος.chat.txt
    (π.χ. mv /var/www/html/eclass/claroline/chat/*.txt /tmp) 
 δ) Διαγράψτε όλο τον κατάλογο claroline μαζί με όλους τους υποκαταλόγους και 
    τα αρχεία κάτω από αυτόν.
    (π.χ. cd /var/www/html/eclass/ 
       rm -rf claroline/)
 ε) Αποσυμπιέστε το eclass-1.6.tar.gz στον κατάλογο που είχατε εγκαταστήσει 
    την προηγούμενη έκδοση του eclass.
    (π.χ. cd /var/www/html
 	tar xzvf /tmp/eclass-1.6.tar.gz)
 στ)Επαναφέρετε το αρχείο config.php στην αρχική του θέση
    (π.χ. mv /tmp/config.php /var/www/html/eclass/claroline/include/)
 ζ) Επαναφέρετε και τα αρχεία με τις προηγούμενες κουβέντες στην αρχική τους θέση.
    (π.χ. mv /tmp/*.txt /var/www/html/eclass/claroline/chat/)
 η) Διορθώστε (αν χρειάζεται) τα permissions των αρχείων και των 
    υποκαταλόγων δίνοντας τις παρακάτω εντολές:
    (υποθέτοντας ότι ο user με τον οποίο τρέχει ο apache είναι ο www-data)

     chmod 755 eclass/ eclass/archive/ eclass/claroline/garbage/ \
         eclass/claroline/chat/ eclass/claroline/include/
     chown www-data eclass/ eclass/archive/ eclass/claroline/garbage/ \
         eclass/claroline/chat/ eclass/claroline/include/

Μόλις ολοκληρωθούν τα παραπάνω, θα έχετε εγκαταστήσει επιτυχώς τα αρχεία 
της νέας έκδοσης του e-Class (e-Class 1.6). Στη συνέχεια ακολουθήστε τις 
οδηγίες του "2ου Βήματος" για να αναβαθμίσετε τις βάσεις δεδομένων του.

	 	 
******************************************************************
 1ο βήμα - Για υπολογιστές με λειτουργικό σύστημα Windows 
 (Win2000, WinXP, Win2003 κ.λπ.)
******************************************************************

Το ακόλουθο παράδειγμα προϋποθέτει ότι το e-Class είναι ήδη εγκατεστημένο 
στον κατάλογο C:\Program Files\Apache\htdocs\ και ότι έχετε κατεβάσει 
το eclass-1.6.zip.

Λόγω αρκετών αλλαγών στη καινούρια έκδοση του e-Class θα πρέπει να 
διαγράψετε την παλιά έκδοση και να εγκαταστήσετε την καινούρια. 
Για να μην χαθούν όμως οι παλιές σας ρυθμίσεις και τα μαθήματα που 
έχουν δημιουργηθεί, θα πρέπει να κάνετε τα παρακάτω.


 α) Μεταβείτε στον κατάλογο που έχετε εγκατεστημένο το e-Class. 
    (π.χ. C:\Program Files\Apache\htdocs)
 β) Μετακινήστε το αρχείο των ρυθμίσεων 
    (C:\Program Files\Apache\htdocs\eclass\claroline\include\config.php) 
    σε ένα άλλο προσωρινό φάκελο στην επιφάνεια εργασίας.
    (π.χ. από το C:\Program Files\Apache\htdocs\eclass\claroline\include\ 
    στο κατάλογο C:\Documents and Settings\Administrator\Desktop\)
 γ) Αν έχετε μαθήματα στα οποία έχετε χρησιμοποιήσει την λειτουργία 
    "Κουβέντα" τότε μετακινήστε και τα αρχεία με τις προηγούμενες κουβέντες 
    των μαθημάτων. Αυτά βρίσκονται στον κατάλογο 
    C:\Program Files\Apache\htdocs\eclass\claroline\chat\ 
    και έχουν την μορφή κωδικός_μαθήματος.chat.txt
 δ) Αν έχετε αλλάξει τα στοιχεία επικοινωνίας (που βρίσκονται στο αρχείο 
    (path του e-Class)/claroline/lang/greek/gunet.inc.php) τότε σημειώστε τα κάπου προσωρινά,
    γιατί το συγκεκριμένο αρχείο θα αντικατασταθεί.
 δ) Μπείτε στο κατάλογο που είναι εγκατεστημένο το eclass 
    (δηλαδή C:\Program Files\Apache\htdocs\eclass\
    και διαγράψτε τον κατάλογο claroline μαζί με τους υποκαταλόγους του.
 ε) Αποσυμπιέστε το eclass-1.6.zip σε ένα προσωρινό φάκελο στην επιφάνεια 
    εργασίας. 
   (π.χ. C:\Documents and Settings\Administrator\Desktop\eclass1.6). 
    Κατόπιν μπαίνουμε στο προσωρινό φάκελο και αντιγράφουμε (copy) το φάκελο 
    eclass με όλα τα περιεχόμενα του (δηλαδή αρχεία και φακέλους). 
    Στη συνέχεια ανοίγουμε το φάκελο που περιέχει την εγκατάσταση του 
    e-Class, (π.χ. C:\Program Files\Apache\htdocs\) και κάνουμε επικόλληση 
    (paste). Με τον τρόπο αυτό, αντικαθίσταται ο φάκελος eclass, από αυτόν 
    της νέας διανομής.
 στ) Επαναφέρετε το αρχείο config.php στην αρχική του θέση
    (δηλαδή στο C:\Program Files\Apache\htdocs\eclass\claroline\include)
 ζ) Επαναφέρετε και τα αρχεία με τις προηγούμενες κουβέντες στην αρχική 
    τους θέση
    (δηλαδή στο C:\Program Files\Apache\htdocs\eclass\claroline\chat\)
 η) Τέλος διαγράφουμε το φάκελο στην επιφάνεια εργασίας όπου προσωρινά 
    αποσυμπιέσαμε τη νέα διανομή.
 
Μόλις ολοκληρωθούν τα παραπάνω θα έχετε εγκαταστήσει επιτυχώς τα αρχεία της 
νέας έκδοσης του GUnet e-Class (e-Class 1.6). Στη συνέχεια ακολουθήστε τις 
οδηγίες του "2ου Βήματος" για να αναβαθμίσετε τις βάσεις δεδομένων του.
  

***************************************************************************
 2ο βήμα - Για όλους τους υπολογιστές ανεξαρτήτως λειτουργικού συστήματος 
***************************************************************************

  Αφού ολοκληρώσετε με επιτυχία το βήμα 1 πληκτρολογήστε στον browser σας 
  το ακόλουθο URL (url του eclass)/upgrade/ 
  (π.χ. http://eclass.gunet.gr/upgrade/).
  Θα σας ζητηθεί το όνομα χρήστη (username) και συνθηματικό (password)του 
  διαχειριστή της πλατφόρμας. 
  Αφού δώσετε τα στοιχεία σας θα αρχίσει η αναβάθμιση των βάσεων δεδομένων.
  Στην οθόνη σας θα δείτε διάφορα μηνύματα σχετικά με την πρόοδο της εργασίας.
  Φυσιολογικά δεν θα πρέπει να δείτε μηνύματα λάθους.
  Στην αντίθετη περίπτωση (αν δηλαδή εμφανιστούν μύνηματα λάθους) τότε 
  πιθανόν να μην λειτουργήσει εντελώς σωστά κάποιο μάθημα. 
  Τέτοια μηνύματα λάθους μπορεί να εμφανιστούν, αν έχετε τροποποιήσει τη 
  δομή κάποιου πίνακα από τις βάσεις του e-Class.
  Σημειώστε (αν είναι δυνατόν) το ακριβές μήνυμα λάθους που σας εμφανίστηκε. 
  Αν μετά την αναβάθμιση αντιμετωπίσετε προβλήματα με κάποιο μάθημα τότε 
  επικοινωνήστε μαζί μας (teledu@gunet.gr). 


Είστε έτοιμοι !
Για να βεβαιωθείτε πηγαίνετε στο διαχειριστικό εργαλείο και επιλέξτε 
"Tρέχουσα έκδοση της πλατφόρμας" GUnet e-Class. Θα πρέπει να είναι 
η έκδοση 1.6

Για να δείτε τα καινούρια χαρακτηριστικά της νέας έκδοσης ανατρέξτε στο αρχείο 
κειμένου CHANGES.txt
  

*********************************************************************
 Επιπλέον σημειώσεις για χρήστες παλιότερων εκδόσεων
*********************************************************************

**********************************************************************
 Για όσους αναβαθμίζουν το e-Class από την έκδοση 1.3 
 στη νέα έκδοση 1.6
**********************************************************************

   α) Οι μεταβλητές $diskQuotaDocument, $diskQuotaGroup, $diskQuotaVideo 
      οι οποίες οριζόντουσαν στο αρχείο config.php, δεν ισχύουν πλέον 
      και μπορείτε να τις διαγράψετε. 
      Τα quota (δηλαδή το μέγιστο επιτρεπόμενο μέγεθος σε bytes των αρχείων 
      που μπορείτε να κάνετε upload) που υπάρχουν στα υποσυστήματα 
      "Έγγραφα","Βίντεο","Ομάδες Χρηστών" ορίζονται πλέον ανά μάθημα και 
      όχι συνολικά όπως γινόταν έως τώρα.
      Επομένως αν θέλετε να αλλάξετε τα quota για ένα συγκεκριμένο μάθημα 
      θα πρέπει να κάνετε τα εξής:
      Μπείτε στο e-Class σαν διαχειριστής. Από τα εργαλεία διαχείρισης 
      του e-Class χρησιμοποιήστε το phpmyadmin για να μεταβείτε στην 
      κύρια βάση δεδομένων του e-Class. Αναζητήστε τον πίνακα cours. 
      Στον πίνακα cours υπάρχει μια εγγραφή για κάθε μάθημα. Εντοπίστε 
      την εγγραφή που αντιστοιχεί στο μάθημα που επιθυμείτε να αλλάξετε 
      τα quota. Αναζητήστε τα πεδία doc_quota, video_quota, group_quota. 
      Οι τιμές αυτές καθορίζουν τα quota για τα υποσύστηματα "Έγγραφα", 
      "Βίντεο", "Ομάδες Χρηστών" αντίστοιχα. Μπορείτε να τις αλλάξετε 
      σε τιμές της αρεσκείας σας.

   β) Στο αρχείο config.php ορίζεται η μεταβλητή "have_latex" η οποία 
      εξ'ορισμού έχει τιμή FALSE. Αλλάζοντας την σε τιμή TRUΕ θα έχετε 
      υποστήριξη μαθηματικών συμβόλων σε ορισμένα υποσυστήματα του 
      e-Class. Αυτό όμως προϋποθέτει την ύπαρξη συστήματος latex στο 
      σύστημα που φιλοξενεί το e-Class. 
      Περισσότερα για τις ρυθμίσεις που θα πρέπει να κάνετε, ανατρέξτε στο 
      αρχείο README_latex.txt
      Αν δεν επιθυμείτε υποστήριξη latex αφήστε την όπως είναι 
      (δηλαδή στην τιμή FALSE).

 
 
**********************************************************************
 Για όσους αναβαθμίζουν το e-Class από την έκδοση 1.2 
 στη νέα έκδοση 1.6
**********************************************************************

  α) H λειτουργία του υποσυστήματος "Εργασίες Φοιτητών" έχει αλλάξει 
     σημαντικά. Παρόλα αυτά οι καθηγητές των μαθημάτων θα μπορούν να 
     έχουν πρόσβαση στις εργασίες των φοιτητών που είχαν υποβληθεί με 
     βάση το παλιότερο σύστημα (πριν την έκδοση 1.3).
     Για το λόγο αυτό, παρακαλούμε να ενημερώσετε τους καθηγητές ότι 
     θα βρούν σχετικό link (που θα παραπέμπει στις παλιές εργασίες) 
     μέσα στις "Εργασίες Φοιτητών".
  
